{"ast":null,"code":"class LocalStorageService {\n  constructor() {\n    this.storageKey = 'rfp_data';\n  }\n\n  // Get all RFPs from local storage\n  getRFPs() {\n    try {\n      const data = localStorage.getItem(this.storageKey);\n      return data ? JSON.parse(data) : [];\n    } catch (error) {\n      console.error('Error reading from localStorage:', error);\n      return [];\n    }\n  }\n\n  // Save RFP to local storage\n  saveRFP(rfpData) {\n    try {\n      const rfps = this.getRFPs();\n      const newRFP = {\n        ...rfpData,\n        _id: Date.now().toString(),\n        // Generate unique ID\n        uploadedAt: new Date().toISOString(),\n        fileUrl: rfpData.file ? URL.createObjectURL(rfpData.file) : null,\n        fileName: rfpData.file ? rfpData.file.name : null,\n        fileSize: rfpData.file ? rfpData.file.size : null\n      };\n      rfps.push(newRFP);\n      localStorage.setItem(this.storageKey, JSON.stringify(rfps));\n      return newRFP;\n    } catch (error) {\n      console.error('Error saving to localStorage:', error);\n      throw error;\n    }\n  }\n\n  // Update RFP in local storage\n  updateRFP(rfpId, updateData) {\n    try {\n      const rfps = this.getRFPs();\n      const index = rfps.findIndex(rfp => rfp._id === rfpId);\n      if (index !== -1) {\n        rfps[index] = {\n          ...rfps[index],\n          ...updateData\n        };\n        localStorage.setItem(this.storageKey, JSON.stringify(rfps));\n        return rfps[index];\n      }\n      throw new Error('RFP not found');\n    } catch (error) {\n      console.error('Error updating RFP:', error);\n      throw error;\n    }\n  }\n\n  // Delete RFP from local storage\n  deleteRFP(rfpId) {\n    try {\n      const rfps = this.getRFPs();\n      const filteredRfps = rfps.filter(rfp => rfp._id !== rfpId);\n      if (filteredRfps.length < rfps.length) {\n        localStorage.setItem(this.storageKey, JSON.stringify(filteredRfps));\n        return true;\n      }\n      throw new Error('RFP not found');\n    } catch (error) {\n      console.error('Error deleting RFP:', error);\n      throw error;\n    }\n  }\n\n  // Get RFPs filtered by status\n  getRFPsByStatus(status) {\n    const rfps = this.getRFPs();\n    const now = new Date();\n    return rfps.filter(rfp => {\n      const deadline = new Date(rfp.deadline);\n      switch (status) {\n        case 'recent':\n          return true;\n        // All recent RFPs\n        case 'completed':\n          return deadline < now;\n        case 'extended':\n          return rfp.status === 'extended';\n        default:\n          return true;\n      }\n    });\n  }\n\n  // Search RFPs\n  searchRFPs(searchTerm) {\n    const rfps = this.getRFPs();\n    const lowerSearchTerm = searchTerm.toLowerCase();\n    return rfps.filter(rfp => rfp.projectName.toLowerCase().includes(lowerSearchTerm) || rfp.productSummary.toLowerCase().includes(lowerSearchTerm) || rfp.status.toLowerCase().includes(lowerSearchTerm));\n  }\n}\nexport default new LocalStorageService();","map":{"version":3,"names":["LocalStorageService","constructor","storageKey","getRFPs","data","localStorage","getItem","JSON","parse","error","console","saveRFP","rfpData","rfps","newRFP","_id","Date","now","toString","uploadedAt","toISOString","fileUrl","file","URL","createObjectURL","fileName","name","fileSize","size","push","setItem","stringify","updateRFP","rfpId","updateData","index","findIndex","rfp","Error","deleteRFP","filteredRfps","filter","length","getRFPsByStatus","status","deadline","searchRFPs","searchTerm","lowerSearchTerm","toLowerCase","projectName","includes","productSummary"],"sources":["C:/Users/HP - PC/Documents/rfp_tec/rpf_website_Tec/metro_/src/localStorageService.js"],"sourcesContent":["class LocalStorageService {\r\n  constructor() {\r\n    this.storageKey = 'rfp_data';\r\n  }\r\n\r\n  // Get all RFPs from local storage\r\n  getRFPs() {\r\n    try {\r\n      const data = localStorage.getItem(this.storageKey);\r\n      return data ? JSON.parse(data) : [];\r\n    } catch (error) {\r\n      console.error('Error reading from localStorage:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  // Save RFP to local storage\r\n  saveRFP(rfpData) {\r\n    try {\r\n      const rfps = this.getRFPs();\r\n      const newRFP = {\r\n        ...rfpData,\r\n        _id: Date.now().toString(), // Generate unique ID\r\n        uploadedAt: new Date().toISOString(),\r\n        fileUrl: rfpData.file ? URL.createObjectURL(rfpData.file) : null,\r\n        fileName: rfpData.file ? rfpData.file.name : null,\r\n        fileSize: rfpData.file ? rfpData.file.size : null\r\n      };\r\n      \r\n      rfps.push(newRFP);\r\n      localStorage.setItem(this.storageKey, JSON.stringify(rfps));\r\n      return newRFP;\r\n    } catch (error) {\r\n      console.error('Error saving to localStorage:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Update RFP in local storage\r\n  updateRFP(rfpId, updateData) {\r\n    try {\r\n      const rfps = this.getRFPs();\r\n      const index = rfps.findIndex(rfp => rfp._id === rfpId);\r\n      \r\n      if (index !== -1) {\r\n        rfps[index] = { ...rfps[index], ...updateData };\r\n        localStorage.setItem(this.storageKey, JSON.stringify(rfps));\r\n        return rfps[index];\r\n      }\r\n      throw new Error('RFP not found');\r\n    } catch (error) {\r\n      console.error('Error updating RFP:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Delete RFP from local storage\r\n  deleteRFP(rfpId) {\r\n    try {\r\n      const rfps = this.getRFPs();\r\n      const filteredRfps = rfps.filter(rfp => rfp._id !== rfpId);\r\n      \r\n      if (filteredRfps.length < rfps.length) {\r\n        localStorage.setItem(this.storageKey, JSON.stringify(filteredRfps));\r\n        return true;\r\n      }\r\n      throw new Error('RFP not found');\r\n    } catch (error) {\r\n      console.error('Error deleting RFP:', error);\r\n      throw error;\r\n    }\r\n  }\r\n\r\n  // Get RFPs filtered by status\r\n  getRFPsByStatus(status) {\r\n    const rfps = this.getRFPs();\r\n    const now = new Date();\r\n    \r\n    return rfps.filter(rfp => {\r\n      const deadline = new Date(rfp.deadline);\r\n      \r\n      switch (status) {\r\n        case 'recent':\r\n          return true; // All recent RFPs\r\n        case 'completed':\r\n          return deadline < now;\r\n        case 'extended':\r\n          return rfp.status === 'extended';\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n  }\r\n\r\n  // Search RFPs\r\n  searchRFPs(searchTerm) {\r\n    const rfps = this.getRFPs();\r\n    const lowerSearchTerm = searchTerm.toLowerCase();\r\n    \r\n    return rfps.filter(rfp => \r\n      rfp.projectName.toLowerCase().includes(lowerSearchTerm) ||\r\n      rfp.productSummary.toLowerCase().includes(lowerSearchTerm) ||\r\n      rfp.status.toLowerCase().includes(lowerSearchTerm)\r\n    );\r\n  }\r\n}\r\n\r\nexport default new LocalStorageService();\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}